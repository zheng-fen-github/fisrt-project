{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Input from './oldpass';\nimport Url from '../../../../url';\n\nfunction Password(_ref) {\n  var acc = _ref.acc;\n\n  var _useState = useState(''),\n      error = _useState[0],\n      setError = _useState[1];\n\n  var submitEv = function submitEv(e) {\n    var body, pass1, pass2, req, data;\n    return _regeneratorRuntime.async(function submitEv$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            e.preventDefault();\n            body = new FormData(e.target);\n            pass1 = body.get('newpassword_one');\n            pass2 = body.get('newpassword_two');\n\n            if (!(pass1 !== pass2)) {\n              _context.next = 7;\n              break;\n            }\n\n            hidden('两次密码输入不相同');\n            return _context.abrupt(\"return\");\n\n          case 7:\n            body.append('account', acc);\n            _context.next = 10;\n            return _regeneratorRuntime.awrap(fetch(Url + 'login/changePass', {\n              method: 'POST',\n              body: body\n            }));\n\n          case 10:\n            req = _context.sent;\n            _context.next = 13;\n            return _regeneratorRuntime.awrap(req.json());\n\n          case 13:\n            data = _context.sent;\n            hidden(data);\n\n            if (!req.ok) {\n              console.log(req.status);\n            }\n\n          case 16:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var hidden = function hidden(value) {\n    //提示事件！！！\n    setError(value);\n    setTimeout(function () {\n      return setError('');\n    }, 1500);\n  };\n\n  return __jsx(\"form\", {\n    onSubmit: submitEv,\n    className: \"jsx-3745395215\" + \" \" + \"password\"\n  }, __jsx(Input, {\n    type: \"oldpassword\",\n    tag: \"\\u65E7\\u5BC6\\u7801\"\n  }), __jsx(Input, {\n    type: \"newpassword_one\",\n    tag: \"\\u65B0\\u5BC6\\u7801\"\n  }), __jsx(Input, {\n    type: \"newpassword_two\",\n    tag: \"\\u91CD\\u590D\\u65B0\\u5BC6\\u7801\"\n  }), __jsx(\"div\", {\n    className: \"jsx-3745395215\" + \" \" + \"submit\"\n  }, __jsx(\"div\", {\n    className: \"jsx-3745395215\" + \" \" + \"submitcontainer\"\n  }, __jsx(\"input\", {\n    type: \"submit\",\n    value: \"\\u63D0\\u4EA4\",\n    className: \"jsx-3745395215\"\n  }))), __jsx(\"div\", {\n    className: \"jsx-3745395215\" + \" \" + \"text\"\n  }, __jsx(\"h2\", {\n    className: \"jsx-3745395215\"\n  }, error)), __jsx(_JSXStyle, {\n    id: \"3745395215\"\n  }, [\".password.jsx-3745395215{height:58vh;width:100%;}\", \".submit.jsx-3745395215{margin-top:2vh;width:100%;height:3.48vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}\", \".submitcontainer.jsx-3745395215{width:75%;padding-left:2vh;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}\", \".submit.jsx-3745395215 input.jsx-3745395215{width:35%;height:100%;background:rgb(31,39,56);border:none;border-radius:4px;color:white;font-size:1.6vh;font-weight:700;-webkit-transition:.4s;transition:.4s;}\", \".submit.jsx-3745395215 input.jsx-3745395215:hover{-webkit-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2);}\", \".submit.jsx-3745395215 input.jsx-3745395215:active{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}\", \".text.jsx-3745395215{height:200px;line-height:200px;text-align:center;margin-top:2vh;}\"]));\n}\n\nexport default Password;","map":null,"metadata":{},"sourceType":"module"}