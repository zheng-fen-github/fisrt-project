(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"/0+H":function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n("q1tI")),r=n("lwAK");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ampFirst,n=void 0!==t&&t,a=e.hybrid,s=void 0!==a&&a,r=e.hasQuery;return n||s&&(void 0!==r&&r)}t.isInAmpMode=i,t.useAmp=function(){return i(s.default.useContext(r.AmpStateContext))}},"7W2i":function(e,t,n){var a=n("SksO");e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}},"8Kt/":function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n("q1tI")),r=a(n("Xuae")),i=n("lwAK"),o=n("FYa8"),c=n("/0+H");function l(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[s.default.createElement("meta",{charSet:"utf-8"})];return e||t.push(s.default.createElement("meta",{name:"viewport",content:"width=device-width"})),t}function u(e,t){return"string"===typeof t||"number"===typeof t?e:t.type===s.default.Fragment?e.concat(s.default.Children.toArray(t.props.children).reduce((function(e,t){return"string"===typeof t||"number"===typeof t?e:e.concat(t)}),[])):e.concat(t)}t.defaultHead=l;var d=["name","httpEquiv","charSet","itemProp"];function f(e,t){return e.reduce((function(e,t){var n=s.default.Children.toArray(t.props.children);return e.concat(n)}),[]).reduce(u,[]).reverse().concat(l(t.inAmpMode)).filter(function(){var e=new Set,t=new Set,n=new Set,a={};return function(s){var r=!0;if(s.key&&"number"!==typeof s.key&&s.key.indexOf("$")>0){var i=s.key.slice(s.key.indexOf("$")+1);e.has(i)?r=!1:e.add(i)}switch(s.type){case"title":case"base":t.has(s.type)?r=!1:t.add(s.type);break;case"meta":for(var o=0,c=d.length;o<c;o++){var l=d[o];if(s.props.hasOwnProperty(l))if("charSet"===l)n.has(l)?r=!1:n.add(l);else{var u=s.props[l],f=a[l]||new Set;f.has(u)?r=!1:(f.add(u),a[l]=f)}}}return r}}()).reverse().map((function(e,t){var n=e.key||t;return s.default.cloneElement(e,{key:n})}))}var p=r.default();function m(e){var t=e.children;return s.default.createElement(i.AmpStateContext.Consumer,null,(function(e){return s.default.createElement(o.HeadManagerContext.Consumer,null,(function(n){return s.default.createElement(p,{reduceComponentsToState:f,handleStateChange:n,inAmpMode:c.isInAmpMode(e)},t)}))}))}m.rewind=p.rewind,t.default=m},Bnag:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},CsS9:function(e,t,n){"use strict";var a=n("MX0m"),s=n.n(a),r=n("q1tI"),i=n.n(r).a.createElement;t.a=function(e){var t=e.color,n=t||"#72BDE8";return i("div",{className:s.a.dynamic([["2100974694",[n]]])+" content"},i("div",{className:s.a.dynamic([["2100974694",[n]]])+" one"}),i("div",{className:s.a.dynamic([["2100974694",[n]]])+" two"}),i("div",{className:s.a.dynamic([["2100974694",[n]]])+" three"}),i(s.a,{id:"2100974694",dynamic:[n]},[".content.__jsx-style-dynamic-selector{height:100%;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".content.__jsx-style-dynamic-selector>div.__jsx-style-dynamic-selector{width:40px;height:40px;border-radius:20px;background:".concat(n,";margin:0 6px;}"),".one.__jsx-style-dynamic-selector{-webkit-animation:go-__jsx-style-dynamic-selector 2s infinite;animation:go-__jsx-style-dynamic-selector 2s infinite;}",".two.__jsx-style-dynamic-selector{-webkit-animation:go-__jsx-style-dynamic-selector 2s 0.2s infinite;animation:go-__jsx-style-dynamic-selector 2s 0.2s infinite;}",".three.__jsx-style-dynamic-selector{-webkit-animation:go-__jsx-style-dynamic-selector 2s 0.4s infinite;animation:go-__jsx-style-dynamic-selector 2s 0.4s infinite;}","@-webkit-keyframes go-__jsx-style-dynamic-selector{0%{-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);}50%{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}100%{-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);}}","@keyframes go-__jsx-style-dynamic-selector{0%{-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);}50%{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}100%{-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);}}"]))}},EbDI:function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},FYa8:function(e,t,n){"use strict";var a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n("q1tI"));t.HeadManagerContext=s.createContext(null)},Ijbi:function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},Nsbk:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},PJYZ:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},RIqP:function(e,t,n){var a=n("Ijbi"),s=n("EbDI"),r=n("Bnag");e.exports=function(e){return a(e)||s(e)||r()}},Xuae:function(e,t,n){"use strict";var a=n("lwsE"),s=n("a1gu"),r=n("Nsbk"),i=n("PJYZ"),o=n("W8MJ"),c=n("7W2i"),l=n("RIqP");Object.defineProperty(t,"__esModule",{value:!0});var u=n("q1tI"),d=!1;t.default=function(){var e,t=new Set;function n(n){e=n.props.reduceComponentsToState(l(t),n.props),n.props.handleStateChange&&n.props.handleStateChange(e)}return function(l){function u(e){var o;return a(this,u),o=s(this,r(u).call(this,e)),d&&(t.add(i(o)),n(i(o))),o}return c(u,l),o(u,null,[{key:"rewind",value:function(){var n=e;return e=void 0,t.clear(),n}}]),o(u,[{key:"componentDidMount",value:function(){t.add(this),n(this)}},{key:"componentDidUpdate",value:function(){n(this)}},{key:"componentWillUnmount",value:function(){t.delete(this),n(this)}},{key:"render",value:function(){return null}}]),u}(u.Component)}},a1gu:function(e,t,n){var a=n("cDf5"),s=n("PJYZ");e.exports=function(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?s(e):t}},gHt4:function(e,t,n){"use strict";var a=n("MX0m"),s=n.n(a),r=n("q1tI"),i=n.n(r),o=n("nOHt"),c=n.n(o),l=i.a.createElement;t.a=function(){return l("div",{onClick:function(){return c.a.push("/home")},className:"jsx-1084668480 closebu"},l("button",{className:"jsx-1084668480"},l("div",{className:"jsx-1084668480"},l("svg",{t:"1579333084597",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1673",width:"30",height:"30",className:"jsx-1084668480 icon"},l("path",{d:"M691.1168 896 577.7792 896c-18.1824 0-32.9344-14.8416-32.9344-33.1456l0-225.472c0-1.5424 0.0128-3.0464 0.0384-4.4928L479.0464 632.8896c0.0128 1.4656 0.032 2.9696 0.032 4.4928l0 225.472c0 18.2976-14.7584 33.1456-32.9408 33.1456L332.8064 896c-64.5632 0-117.088-56.992-117.088-127.0656L215.7184 589.0304l-6.0608 0c-34.3552 0-62.6688-17.6128-75.7312-47.136-10.7008-24.3456-9.536-63.3792 25.792-100.1408l266.2144-277.0048C448.7616 141.0432 479.3152 128 511.9744 128s63.2064 13.0432 86.0224 36.7296l266.2528 277.0048c35.4624 36.8832 36.544 75.9616 25.7344 100.2304-12.9152 29.408-41.2352 47.0528-75.6928 47.0528l-6.0672 0 0 179.9168C808.2048 839.008 755.68 896 691.1168 896L691.1168 896zM610.7328 829.7152l80.3904 0c31.6352 0 51.2064-31.5456 51.2064-60.7808L742.3296 555.8784c0-18.2912 14.7584-33.1456 32.9408-33.1456l39.0016 0c10.6752 0 13.8368-3.8976 15.5008-7.7248 1.248-3.4496 0.16-13.5936-12.9024-27.168L550.656 210.8544c-20.5248-21.3504-56.8192-21.3504-77.3888 0.0128L207.0656 487.8464c-13.0752 13.6064-14.144 23.7952-12.8768 27.2832 1.6128 3.6672 4.8064 7.6032 15.4496 7.6032l39.0208 0c18.1824 0 32.9408 14.8416 32.9408 33.1456l0 213.0624c0 29.2352 19.5648 60.7808 51.2064 60.7808l80.3904 0-0.096-199.9936c-0.2944-14.9952-0.6592-33.664 13.7216-48.4096 14.3616-14.7328 33.9456-14.7328 40.3648-14.7328l89.568 0c6.4384 0 26.0032 0 40.3648 14.7328 14.3616 14.752 14.0032 33.4208 13.7088 48.4096l-0.096 7.6608L610.7328 829.7152 610.7328 829.7152zM610.7328 829.7152","p-id":"1674",className:"jsx-1084668480"})))),l(s.a,{id:"1084668480"},[".closebu.jsx-1084668480{position:absolute;height:30px;width:30px;left:2%;overflow:hidden;-webkit-transition:.2s;transition:.2s;outline:none;}",".closebu.jsx-1084668480:hover{-webkit-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2);}",".closebu.jsx-1084668480:active{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}","button.jsx-1084668480{background:none;border:none;height:30px;width:30px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;}"]))}},"hZQ/":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sendpost",function(){return n("qP/P")}])},lwAK:function(e,t,n){"use strict";var a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n("q1tI"));t.AmpStateContext=s.createContext({})},"qP/P":function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),s=n.n(a),r=n("o0o1"),i=n.n(r),o=n("MX0m"),c=n.n(o),l=s.a.createElement;var u=function(){return l("div",{className:"jsx-1295732907 title"},l("h2",{className:"jsx-1295732907"},"New Post"),l(c.a,{id:"1295732907"},[".title.jsx-1295732907{height:60%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"]))},d=n("gHt4"),f=s.a.createElement;var p=function(){return f("div",{className:"jsx-4019285191 top"},f(d.a,null),f(u,null),f(c.a,{id:"4019285191"},[".top.jsx-4019285191{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:relative;height:10%;margin-top:2vh;}"]))},m=s.a.createElement;var x=function(e){var t,n=e.file,s=e.Delete,r=URL.createObjectURL(n.file);return Object(a.useEffect)((function(){t.onload=function(e){e.target.height>e.target.width&&e.target.classList.add("width")}}),[]),m("div",{className:"jsx-92850797 photo"},m("img",{src:r,alt:"cat",ref:function(e){return t=e},className:"jsx-92850797"}),m("div",{onClick:function(){return s(n.id)},id:n.id,className:"jsx-92850797 delete"},m("svg",{t:"1578726169319",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3211",width:"30",height:"30",className:"jsx-92850797 icon"},m("path",{d:"M512 557.223994l249.203712 249.203712c12.491499 12.491499 32.730449 12.489452 45.221948-0.002047s12.493545-32.730449 0.002047-45.221948L557.223994 512l249.203712-249.203712c12.491499-12.491499 12.489452-32.730449-0.002047-45.221948s-32.730449-12.493545-45.221948-0.002047L512 466.776006 262.796288 217.572294c-12.491499-12.491499-32.729425-12.490475-45.220924 0.001023-6.246261 6.246261-9.370415 14.429641-9.370415 22.610974s3.121084 16.365736 9.367345 22.610974L466.774983 512 217.572294 761.203712c-6.246261 6.246261-9.367345 14.428617-9.367345 22.610974s3.125177 16.365736 9.370415 22.610974c12.491499 12.491499 32.729425 12.493545 45.220924 0.002047L512 557.223994z","p-id":"3212",className:"jsx-92850797"}))),m(c.a,{id:"92850797"},[".photo.jsx-92850797{width:313px;height:313px;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;border-radius:12px;margin-bottom:20px;box-shadow:0 0 8px #eee;}",".photo.jsx-92850797:hover>img.jsx-92850797{-webkit-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2);}",".delete.jsx-92850797{position:absolute;background:white;border-radius:50%;height:30px;width:30px;top:6px;right:6px;cursor:pointer;}",".delete.jsx-92850797:hover{background:black;}","img.jsx-92850797{height:100%;-webkit-transition:.3s;transition:.3s;}",".width.jsx-92850797{height:auto;width:100%;}"]))},h=s.a.createElement;var b=function(e){var t=e.click,n=e.PhotoFiles,a=e.setPhotoFiles,r=function(e){a((function(t){return t.filter((function(t){return t.id!==e}))}))};return h(s.a.Fragment,null,h("div",{className:"jsx-955455023 add-photo-list"},n.length>0?n.map((function(e){return h(x,{file:e,Delete:r,key:e.id})})):h("div",{className:"jsx-955455023 not"},h("svg",{onClick:t,t:"1579414142525",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2749",width:"100",height:"100",className:"jsx-955455023 icon"},h("path",{d:"M853.376 975.232H170.688A170.88 170.88 0 0 1 0 804.608V170.688A170.88 170.88 0 0 1 170.688 0h682.688a170.88 170.88 0 0 1 170.688 170.688v633.984a170.88 170.88 0 0 1-170.688 170.56zM170.688 48.768A121.984 121.984 0 0 0 48.768 170.624v633.984c0 67.2 54.656 121.856 121.92 121.856h682.688a121.92 121.92 0 0 0 121.856-121.856V170.688c0-67.2-54.656-121.856-121.856-121.856H170.688z",fill:"#707070","p-id":"2750",className:"jsx-955455023"}),h("path",{d:"M329.216 438.912a134.4 134.4 0 0 1-134.144-134.144c0-73.92 60.16-134.144 134.144-134.144 73.92 0 134.08 60.16 134.08 134.144a134.4 134.4 0 0 1-134.08 134.144z m0-219.456c-47.04 0-85.312 38.336-85.312 85.312s38.272 85.312 85.312 85.312 85.312-38.272 85.312-85.312-38.336-85.312-85.312-85.312zM170.688 780.16a24.384 24.384 0 0 1-17.28-7.04 24.512 24.512 0 0 1 0-34.496l212.352-212.288L512 672.576l348.48-348.48a24.512 24.512 0 0 1 34.496 0 24.512 24.512 0 0 1 0 34.496L512 741.568 365.76 595.264 187.968 773.12a24.384 24.384 0 0 1-17.28 7.04z",fill:"#707070","p-id":"2751",className:"jsx-955455023"})))),h(c.a,{id:"955455023"},[".add-photo-list.jsx-955455023{width:100%;min-height:333px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;-webkit-align-content:flex-start;-ms-flex-line-pack:start;align-content:flex-start;}",".not.jsx-955455023{width:100%;height:333px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}","svg.jsx-955455023{-webkit-transition:.2s;transition:.2s;cursor:pointer;}",".not.jsx-955455023 svg.jsx-955455023:hover{-webkit-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2);}",".not.jsx-955455023 svg.jsx-955455023:active{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}"]))},w=s.a.createElement,g=s.a.forwardRef((function(e,t){var n=e.setFile,a=e.children;return w("div",{className:"jsx-3414773609 add-post-form"},w("input",{type:"file",name:"photoFile",onChange:function(e){var t=Array.from(e.target.files).map((function(e){return{file:e,id:e.lastModified+Date.now()}}));e.target.value="",n((function(e){return e.concat(t)}))},multiple:!0,id:"photoFile",ref:t,style:{display:"none"},className:"jsx-3414773609"}),a,w("label",{htmlFor:"PostTitle",className:"jsx-3414773609"},w("h2",{className:"jsx-3414773609"},"Title")),w("input",{type:"text",name:"PostTitle",required:!0,id:"PostTitle",className:"jsx-3414773609"}),w("label",{htmlFor:"message",className:"jsx-3414773609"},w("h2",{className:"jsx-3414773609"},"description")),w("input",{type:"text",name:"message",id:"message",className:"jsx-3414773609"}),w("div",{className:"jsx-3414773609 sumbit"},w("button",{onClick:function(e){e.target.classList.add("anima")},className:"jsx-3414773609"},"Post")),w(c.a,{id:"3414773609"},[".add-post-form.jsx-3414773609{width:clac(100%-80px);height:40%;padding:40px;margin-bottom:100px;position:relative;}",".sumbit.jsx-3414773609{width:100%;height:200px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}","button.jsx-3414773609{width:200px;height:60px;border:none;background:#1f2738;-webkit-transition:.5s;transition:.5s;font-size:32px;color:white;border-radius:8px;cursor:pointer;}","button.jsx-3414773609:hover{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1);}","h2.jsx-3414773609{color:#8f9092;}","label.jsx-3414773609,input.jsx-3414773609{display:block;}","label.jsx-3414773609{margin:2vh 1vh 0 0;}","input.jsx-3414773609{width:90%;padding:0 10px;height:80px;font-size:30px;border:none;border-bottom:2px solid #ced1d6;}",".photo-container.jsx-3414773609{width:1200px;height:1200px;}"]))})),y=s.a.createElement;var v=function(e){var t=e.click;return y("div",{className:"jsx-3986781197 add-bu"},y("svg",{onClick:t,t:"1578118316847",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3271",width:"30",height:"30",className:"jsx-3986781197 icon"},y("path",{d:"M477.090909 477.090909V58.065455C477.090909 38.842182 492.590545 23.272727 512 23.272727c19.269818 0 34.909091 15.755636 34.909091 34.792728V477.090909h419.025454c19.223273 0 34.792727 15.499636 34.792728 34.909091 0 19.269818-15.755636 34.909091-34.792728 34.909091H546.909091v419.025454c0 19.223273-15.499636 34.792727-34.909091 34.792728-19.269818 0-34.909091-15.755636-34.909091-34.792728V546.909091H58.065455A34.769455 34.769455 0 0 1 23.272727 512c0-19.269818 15.755636-34.909091 34.792728-34.909091H477.090909z","p-id":"3272",className:"jsx-3986781197"})),y(c.a,{id:"3986781197"},[".add-bu.jsx-3986781197{width:100%;margin:20px 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}","svg.jsx-3986781197:hover{-webkit-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2);}","svg.jsx-3986781197:active{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}","svg.jsx-3986781197{padding:10px;width:40px;height:40px;background:#ced1d6;border-radius:50%;-webkit-transition:.3s;transition:.3s;cursor:pointer;}"]))},k=n("nOHt"),j=n.n(k),_=n("CsS9"),N=n("Gw4m"),P=s.a.createElement;var O=function(){var e=Object(k.useRouter)(),t=Object(a.useState)(null),n=t[0],r=t[1],o=Object(a.useState)(null),l=o[0],u=o[1],d=Object(a.useState)(null),f=d[0],m=d[1],x=Object(a.useState)(null),h=x[0],w=x[1];Object(a.useEffect)((function(){var t=e.query.account;t?u(t):(console.log("\u6ca1\u6709query \u67e5\u770bcookie"),function(){var e,t;i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.a.awrap(fetch(N.a+"login/cookie/look",{credentials:"include"}));case 2:if(200!==(e=n.sent).status){n.next=13;break}return n.next=6,i.a.awrap(e.json());case 6:t=n.sent,console.log(t),u(t.message.name),m(t.message.photoId),w(t.account),n.next=14;break;case 13:j.a.push("/");case 14:case"end":return n.stop()}}),null,null,null,Promise)}());var n=io.connect(N.a);r(n)}),[]);var y,O=Object(a.useState)([]),S=O[0],C=O[1],M=Object(a.useState)(!1),E=M[0],A=M[1],I=s.a.createRef(),F=function(){I.current.click()};return P("div",{className:"jsx-1808194380 add-photo"},E?P(_.a,{color:"#1f2738"}):P(s.a.Fragment,null,P("div",{className:"jsx-1808194380 container"},P(p,null),P("form",{onSubmit:function(e){var t,a,s,r;return i.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.preventDefault(),!(S.length<1)){o.next=6;break}return(t=document.querySelector(".remind")).hidden=!1,setTimeout((function(){return t.hidden=!0}),2e3),o.abrupt("return");case 6:return(a=new FormData(e.target)).delete("photoFile"),s=S.map((function(e){var t,n,a,s;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return(t=new Image).src=URL.createObjectURL(e.file),n=new Promise((function(e){t.onload=function(){var n,a=t.width,s=t.height,r=a>s?s:a,i=a>s?a-r:s-r,o=a>s?[-i/2,0]:[0,-i/2];y.width=r,y.height=r,(n=y.getContext("2d")).drawImage.apply(n,[t].concat(o)),y.toBlob((function(t){e(t)}))}})),r.next=5,i.a.awrap(n.then((function(e){return a=e})));case 5:return s=new File([a],e.file.name,{type:e.file.type}),r.abrupt("return",s);case 7:case"end":return r.stop()}}),null,null,null,Promise)})),o.next=11,i.a.awrap(Promise.all(s).then((function(e){return r=e})));case 11:r.forEach((function(e){a.append("photoFile",e)})),a.append("userName",l),a.append("acthorPhotoId",f),a.append("account",h),A(!0),function(){var e,t;i.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,i.a.awrap(fetch(N.a+"getphoto/post",{method:"POST",body:a}));case 2:if(!(e=s.sent).ok){s.next=11;break}return s.next=6,i.a.awrap(e.json());case 6:t=s.sent,console.log(t),n.emit("post",t),A(!1),j.a.push("/home");case 11:case"end":return s.stop()}}),null,null,null,Promise)}();case 17:case"end":return o.stop()}}),null,null,null,Promise)},className:"jsx-1808194380"},P(b,{click:F,setPhotoFiles:C,PhotoFiles:S}),S.length>0&&P(v,{click:F}),P(g,{ref:I,setFile:C},P("div",{onClick:function(e){return e.target.hidden=!0},hidden:!0,className:"jsx-1808194380 remind"},"\u8bf7\u6dfb\u52a0\u81f3\u5c11\u4e00\u5f20\u7167\u7247"))))),P("canvas",{ref:function(e){return y=e},hidden:!0,style:{position:"fixed",left:0,top:0,zIndex:99},className:"jsx-1808194380"}),P(c.a,{id:"1808194380"},[".add-photo.jsx-1808194380{position:fixed;top:0;left:0;height:100vh;width:100vw;background:#f4f7f9;z-index:10;}",".user.jsx-1808194380{position:fixed;top:50%;left:40px;-webkit-transform:translate(0,-50%);-ms-transform:translate(0,-50%);transform:translate(0,-50%);}",".container.jsx-1808194380::-webkit-scrollbar{display:none;}",".container.jsx-1808194380{height:100%;width:980px;margin:0 auto;background:white;box-shadow:0 0 4px #eee;overflow:auto;padding-bottom:40vh;}","@media (max-width:980px){.container.jsx-1808194380{width:100%;}}",".remind.jsx-1808194380{width:90%;height:50px;border-radius:12px;color:white;text-align:center;line-height:50px;font-size:20px;background:red;-webkit-animation:go-jsx-1808194380 .2s;animation:go-jsx-1808194380 .2s;}","@-webkit-keyframes go-jsx-1808194380{0%{-webkit-transform:scale(0.8);-ms-transform:scale(0.8);transform:scale(0.8);}100%{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}}","@keyframes go-jsx-1808194380{0%{-webkit-transform:scale(0.8);-ms-transform:scale(0.8);transform:scale(0.8);}100%{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}}"]))},S=n("8Kt/"),C=n.n(S),M=s.a.createElement;t.default=function(){return M(s.a.Fragment,null,M(C.a,null,M("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.dev.js"})),M(O,null))}}},[["hZQ/",0,1,2,3]]]);