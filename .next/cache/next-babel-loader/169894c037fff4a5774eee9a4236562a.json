{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Option from './option';\nimport Text from '../textarea';\nimport Context from '../../context/ins-context.js';\n\nfunction Form({\n  data\n}) {\n  const {\n    0: name,\n    1: setName\n  } = useState(data.message.name);\n  const {\n    0: account,\n    1: setAccount\n  } = useState(data.account);\n  const {\n    0: email,\n    1: setEmail\n  } = useState(data.email);\n  const {\n    0: error,\n    1: setError\n  } = useState(null);\n\n  const submitEv = async e => {\n    e.preventDefault();\n    let data = new FormData(e.target);\n    let req = await fetch('http://localhost:3001/login/updateAc', {\n      credentials: \"include\",\n      method: 'POST',\n      body: data\n    });\n\n    if (req.ok) {\n      setError('修改成功');\n      time();\n    } else {\n      setError('出小差了，重新刷新或登录试试。');\n      time();\n    }\n  };\n\n  const time = () => {\n    setTimeout(() => setError(null), 1500);\n  };\n\n  return __jsx(\"form\", {\n    onSubmit: submitEv,\n    className: \"jsx-2964566541\"\n  }, __jsx(Option, {\n    type: \"name\",\n    ev: setName,\n    value: name,\n    tag: \"\\u59D3\\u540D\"\n  }), __jsx(Option, {\n    type: \"account\",\n    ev: setAccount,\n    value: account,\n    tag: \"\\u8D26\\u53F7\"\n  }), __jsx(Text, {\n    data: data.message.Introduction\n  }), __jsx(Option, {\n    type: \"email\",\n    ev: setEmail,\n    value: email,\n    tag: \"\\u90AE\\u7BB1\"\n  }), __jsx(\"div\", {\n    className: \"jsx-2964566541\" + \" \" + \"submit\"\n  }, __jsx(\"div\", {\n    className: \"jsx-2964566541\" + \" \" + \"submitcontainer\"\n  }, __jsx(\"input\", {\n    type: \"submit\",\n    defaultValue: \"\\u63D0\\u4EA4\",\n    className: \"jsx-2964566541\"\n  }))), __jsx(\"div\", {\n    className: \"jsx-2964566541\" + \" \" + \"error\"\n  }, __jsx(\"h2\", {\n    className: \"jsx-2964566541\"\n  }, error)), __jsx(_JSXStyle, {\n    id: \"2964566541\"\n  }, [\"form.jsx-2964566541{min-height:58vh;width:100%;}\", \".submit.jsx-2964566541{margin-top:2vh;width:100%;height:3.48vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}\", \".submitcontainer.jsx-2964566541{width:75%;padding-left:2vh;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}\", \".submit.jsx-2964566541 input.jsx-2964566541{width:35%;height:100%;background:#1f2738;border:none;border-radius:4px;color:white;font-size:1.6vh;font-weight:700;}\", \".error.jsx-2964566541{height:200px;line-height:200px;text-align:center;margin-top:2vh;}\"]));\n}\n\nexport default Form;","map":null,"metadata":{},"sourceType":"module"}