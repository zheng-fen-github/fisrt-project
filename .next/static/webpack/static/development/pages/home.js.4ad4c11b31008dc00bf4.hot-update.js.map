{"version":3,"file":"static/webpack/static\\development\\pages\\home.js.4ad4c11b31008dc00bf4.hot-update.js","sources":["webpack:///./component/home/main/index.js"],"sourcesContent":["import React,{useEffect,useState,useContext} from 'react'\r\nimport Post from './postcontent'\r\nimport Search from './search'\r\nimport Content from './postlist/postindex'\r\nimport {Context} from '../../editusermessage/context/ins-context'\r\nimport UseGetData from '../../public/useDateGet'\r\nimport {connect} from 'react-redux'\r\nimport {GET} from './redux/action'\r\nimport  Loading from '../../public/loading.js'\r\nimport '../../../style/test.css'\r\n\r\n\r\n\r\nfunction Index(props) {\r\n    const url = 'http://localhost:3001/getphotos';\r\n    const [state,fetching,error] = UseGetData(undefined,url);\r\n    useEffect(() => {\r\n         if(Array.isArray(state)) props.action(GET(state));\r\n    })\r\n    \r\n    const scrollEv = (e) => {                           //滚动按钮显示事件\r\n        let gotop = document.querySelector('.gotop');\r\n        if(e.target.scrollTop>window.innerHeight/2){\r\n           gotop.hidden = false;\r\n        }else{\r\n            gotop.hidden = true;\r\n        }\r\n    }\r\n\r\n    const scrollTOP = (e) => {                // 滚动到顶部事件\r\n       e.target.closest('.main').scrollTop = 0;\r\n       e.target.closest('.gotop').hidden = true;\r\n    }\r\n    return (\r\n        <div className='main testm' onScroll={scrollEv}>               \r\n                <Context.Provider value={props.data}>\r\n                    {\r\n                        error?<div>something is wrong</div>:\r\n                        props.data[0]?<>\r\n                                        <Post account={props.account} />\r\n                                        <Search/>\r\n                                        <Content message={props.message}/>\r\n                                        <div className=\"gotop\" hidden onClick={scrollTOP}>\r\n                                            <i className=\"iconfont icon-rising\"></i>\r\n                                        </div>\r\n                                   </>: <Loading/>\r\n                    }\r\n                 </Context.Provider>\r\n            <style jsx> {`\r\n                        .main {\r\n                            height:100%;\r\n                            width:50%;\r\n                            background:#eeeef4;\r\n                            overflow:auto;\r\n                            padding:2vh 3vw 0 3vw;\r\n                            position:relative;\r\n                        }\r\n                      \r\n                        .main::-webkit-scrollbar {\r\n                            display:none;\r\n                        }\r\n                        .gotop {\r\n                            position:fixed;\r\n                            top:49vh;\r\n                            right:29vw;\r\n                            width:60px;\r\n                            height:60px;\r\n                            animation:bu .5s 1;\r\n                        }\r\n                        @keyframes bu {\r\n                            0% {\r\n                                transform:scale(0)\r\n                            }\r\n                            100% {\r\n                                transform:scale(1)\r\n                            }\r\n                        }\r\n                        .gotop>i {\r\n                          font-size:2rem;\r\n                          color:#1a79ff;\r\n                          background:white;\r\n                          border-radius:0.5rem;\r\n                          box-shadow: 0 0 2px rgba(0,0,0,0.3);\r\n                        }\r\n                        `}\r\n             </style>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nconst state = (store) =>( {data:store});\r\nconst dispatch = dispatch =>( {action:dispatch});\r\nexport default connect(state,dispatch)(Index)\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAXA;AAAA;AAAA;AAuDA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;;;;A","sourceRoot":""}