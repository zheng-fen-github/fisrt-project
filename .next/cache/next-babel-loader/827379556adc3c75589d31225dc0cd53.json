{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nvar _jsxFileName = \"C:\\\\test\\\\component\\\\editusermessage\\\\show\\\\showavatar.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport LoadPhoto from './avatarLoadPhoto.js';\nimport dataContext from '../context/ins-context.js';\n\nfunction Showavatar(props) {\n  var _useState = useState(null),\n      src = _useState[0],\n      setSrc = _useState[1];\n\n  useEffect(function () {\n    (function _callee() {\n      var request, blob, src;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(fetch(\"http://localhost:3001/getphoto/\".concat(props.data.message.photoId)));\n\n            case 2:\n              request = _context.sent;\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(request.blob());\n\n            case 5:\n              blob = _context.sent;\n              src = URL.createObjectURL(blob);\n              setSrc(src);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    })();\n\n    return function () {\n      URL.revokeObjectURL(src);\n    };\n  }, []);\n  return __jsx(\"div\", {\n    className: \"jsx-4019688225\" + \" \" + \"avatar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-4019688225\" + \" \" + \"photo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, src && __jsx(\"img\", {\n    src: src,\n    alt: \"cat\",\n    className: \"jsx-4019688225\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"jsx-4019688225\" + \" \" + \"avatarmessage\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-4019688225\" + \" \" + \"username\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, __jsx(\"h3\", {\n    className: \"jsx-4019688225\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, props.name ? props.name : false)), __jsx(LoadPhoto, {\n    data: props.data,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  })), __jsx(_JSXStyle, {\n    id: \"4019688225\",\n    __self: this\n  }, \".avatar.jsx-4019688225{width:100%;height:10%;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:2vh;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.photo.jsx-4019688225{width:25%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden;}.photo.jsx-4019688225 img.jsx-4019688225{height:6vh;width:6vh;border-radius:50%;border:solid 1px #d3d3d3;}.avatarmessage.jsx-4019688225{padding-left:2vh;width:75%;height:80%;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFx0ZXN0XFxjb21wb25lbnRcXGVkaXR1c2VybWVzc2FnZVxcc2hvd1xcc2hvd2F2YXRhci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFnQ2lDLEFBRzJDLEFBUUQsQUFRQyxBQU1LLFVBYkosQ0FSRCxBQWdCRCxNQU1ELElBTFMsQ0FoQkYsQUFRSCxLQWNILFdBckJHLEFBc0JoQixDQU40Qix5QkFDNUIsZ0NBVDRCLGdCQVBQLGtCQUNDLCtEQU9BLDhCQU50QiwrREFPbUIsZ0JBQ25CIiwiZmlsZSI6IkM6XFx0ZXN0XFxjb21wb25lbnRcXGVkaXR1c2VybWVzc2FnZVxcc2hvd1xcc2hvd2F2YXRhci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCx7dXNlU3RhdGUsIHVzZUVmZmVjdH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCBMb2FkUGhvdG8gZnJvbSAnLi9hdmF0YXJMb2FkUGhvdG8uanMnXHJcbmltcG9ydCBkYXRhQ29udGV4dCBmcm9tICcuLi9jb250ZXh0L2lucy1jb250ZXh0LmpzJ1xyXG5cclxuXHJcbmZ1bmN0aW9uIFNob3dhdmF0YXIocHJvcHMpIHtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBbc3JjLCBzZXRTcmNdID0gdXNlU3RhdGUobnVsbCk7XHJcbiAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICAgICAoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgbGV0IHJlcXVlc3QgPSBhd2FpdCAgZmV0Y2goYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMS9nZXRwaG90by8ke3Byb3BzLmRhdGEubWVzc2FnZS5waG90b0lkfWApXHJcbiAgICAgICAgICAgICBsZXQgYmxvYiA9IGF3YWl0ICByZXF1ZXN0LmJsb2IoKVxyXG4gICAgICAgICAgICAgbGV0IHNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcbiAgICAgICAgICAgICBzZXRTcmMoc3JjKSAgICAgICAgICBcclxuICAgICAgICAgICAgfSkoKVxyXG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChzcmMpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFtdKVxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXZhdGFyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwaG90b1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgeyBzcmMgJiYgPGltZyBzcmM9e3NyY30gYWx0PVwiY2F0XCIvPn1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImF2YXRhcm1lc3NhZ2VcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VybmFtZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPntwcm9wcy5uYW1lP3Byb3BzLm5hbWU6ZmFsc2UgfTwvaDM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgPExvYWRQaG90byBkYXRhID0ge3Byb3BzLmRhdGF9Lz4gICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+IHtgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXZhdGFyIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDoxMDAlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDoxMCU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6aGlkZGVuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ZmxleDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOjJ2aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczpjZW50ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucGhvdG8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOjI1JTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6MTAwJTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OmZsZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OmZsZXgtZW5kO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOmNlbnRlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzpoaWRkZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucGhvdG8gaW1nIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6NnZoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOjZ2aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOjUwJTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6c29saWQgMXB4ICNkM2QzZDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXZhdGFybWVzc2FnZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nLWxlZnQ6MnZoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6NzUlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OjgwJTsgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3R5bGU+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIClcclxuICAgIFxyXG4gICAgfVxyXG4gICAgXHJcblxyXG5leHBvcnQgZGVmYXVsdCBTaG93YXZhdGFyXHJcbiJdfQ== */\\n/*@ sourceURL=C:\\\\\\\\test\\\\\\\\component\\\\\\\\editusermessage\\\\\\\\show\\\\\\\\showavatar.js */\"));\n}\n\nexport default Showavatar;","map":{"version":3,"sources":["C:/test/component/editusermessage/show/showavatar.js"],"names":["React","useState","useEffect","LoadPhoto","dataContext","Showavatar","props","src","setSrc","fetch","data","message","photoId","request","blob","URL","createObjectURL","revokeObjectURL","name"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAwBC,SAAxB,QAAwC,OAAxC;AACA,OAAOC,SAAP,MAAsB,sBAAtB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;;AAGA,SAASC,UAAT,CAAoBC,KAApB,EAA2B;AAAA,kBAEGL,QAAQ,CAAC,IAAD,CAFX;AAAA,MAEZM,GAFY;AAAA,MAEPC,MAFO;;AAGnBN,EAAAA,SAAS,CAAC,YAAM;AACb,KAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CACsBO,KAAK,0CAAmCH,KAAK,CAACI,IAAN,CAAWC,OAAX,CAAmBC,OAAtD,EAD3B;;AAAA;AACKC,cAAAA,OADL;AAAA;AAAA,+CAEmBA,OAAO,CAACC,IAAR,EAFnB;;AAAA;AAEKA,cAAAA,IAFL;AAGKP,cAAAA,GAHL,GAGWQ,GAAG,CAACC,eAAJ,CAAoBF,IAApB,CAHX;AAICN,cAAAA,MAAM,CAACD,GAAD,CAAN;;AAJD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;;AAMC,WAAO,YAAM;AACTQ,MAAAA,GAAG,CAACE,eAAJ,CAAoBV,GAApB;AACH,KAFD;AAGH,GAVQ,EAUP,EAVO,CAAT;AAWA,SACI;AAAA,wCAAe,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACQ;AAAA,wCAAe,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACIA,GAAG,IAAI;AAAK,IAAA,GAAG,EAAEA,GAAV;AAAe,IAAA,GAAG,EAAC,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADX,CADR,EAIQ;AAAA,wCAAe,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA,wCAAe,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKD,KAAK,CAACY,IAAN,GAAWZ,KAAK,CAACY,IAAjB,GAAsB,KAA3B,CADJ,CADJ,EAKI,MAAC,SAAD;AAAW,IAAA,IAAI,EAAIZ,KAAK,CAACI,IAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,CAJR;AAAA;AAAA;AAAA,+9JADJ;AA+CH;;AAGL,eAAeL,UAAf","sourcesContent":["import React,{useState, useEffect} from 'react'\r\nimport LoadPhoto from './avatarLoadPhoto.js'\r\nimport dataContext from '../context/ins-context.js'\r\n\r\n\r\nfunction Showavatar(props) {\r\n        \r\n        const [src, setSrc] = useState(null);\r\n        useEffect(() => {\r\n           (async () => {\r\n             let request = await  fetch(`http://localhost:3001/getphoto/${props.data.message.photoId}`)\r\n             let blob = await  request.blob()\r\n             let src = URL.createObjectURL(blob);\r\n             setSrc(src)          \r\n            })()\r\n            return () => {\r\n                URL.revokeObjectURL(src)\r\n            }\r\n        },[])\r\n        return (\r\n            <div className=\"avatar\">\r\n                    <div className=\"photo\">\r\n                      { src && <img src={src} alt=\"cat\"/>}\r\n                    </div>\r\n                    <div className=\"avatarmessage\">\r\n                        <div className=\"username\">\r\n                            <h3>{props.name?props.name:false }</h3>\r\n                        </div>\r\n                        \r\n                        <LoadPhoto data = {props.data}/>      \r\n                         \r\n                    </div>\r\n                    <style jsx> {`\r\n                            .avatar {\r\n                                width:100%;\r\n                                height:10%;\r\n                                overflow:hidden;\r\n                                display:flex;\r\n                                margin-bottom:2vh;\r\n                                align-items:center;\r\n                            }\r\n                            .photo {\r\n                                width:25%;\r\n                                height:100%;\r\n                                display:flex;\r\n                                justify-content:flex-end;\r\n                                align-items:center;\r\n                                overflow:hidden;\r\n                            }\r\n                            .photo img {\r\n                                height:6vh;\r\n                                width:6vh;\r\n                                border-radius:50%;\r\n                                border:solid 1px #d3d3d3;\r\n                            }\r\n                            .avatarmessage {\r\n                               padding-left:2vh;\r\n                               width:75%;\r\n                               height:80%;                          \r\n                            }\r\n                            \r\n                            `}\r\n                    </style>\r\n            </div>\r\n        )\r\n    \r\n    }\r\n    \r\n\r\nexport default Showavatar\r\n"]},"metadata":{},"sourceType":"module"}