{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{D0kk:function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return s}));var i=a(\"q1tI\"),n=a.n(i),s=(n.a.createElement,n.a.createContext(null))},oFpz:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/edit\",function(){return a(\"p8II\")}])},p8II:function(e,t,a){\"use strict\";a.r(t);var i=a(\"o0o1\"),n=a.n(i),s=a(\"MX0m\"),l=a.n(s),o=a(\"q1tI\"),d=a.n(o),r=d.a.createElement;var c=function(){return r(\"div\",{className:\"jsx-1473635509 select-list\"},r(\"div\",{className:\"jsx-1473635509 list\"},r(\"ul\",{className:\"jsx-1473635509\"},r(\"li\",{className:\"jsx-1473635509 selected\"},\"\\u7f16\\u8f91\\u4e3b\\u9875\"),r(\"li\",{className:\"jsx-1473635509\"},\"\\u66f4\\u6539\\u5bc6\\u7801\"),r(\"li\",{className:\"jsx-1473635509\"},\"\\u7ba1\\u7406\\u8054\\u7cfb\\u4eba\"))),r(l.a,{id:\"1473635509\"},[\".select-list.jsx-1473635509{width:30%;background:white;position:relative;}\",\".list.jsx-1473635509{position:absolute;left:-2px;top:-1px;}\",\".list.jsx-1473635509,ul.jsx-1473635509{height:100%;width:100%;}\",\"ul.jsx-1473635509{list-style:none;}\",\"li.jsx-1473635509{height:6.4vh;padding-left:10%;font-weight:600;line-height:6.4vh;}\",\".selected.jsx-1473635509{border-left:solid black 3px;font-weight:900;}\"]))},x=d.a.createElement;var h=function(e){return e.data,x(d.a.Fragment,null,x(\"button\",{onClick:function(e){e.target.nextElementSibling.click()},className:\"jsx-369983592\"},\"\\u66f4\\u6362\\u5934\\u50cf\"),x(\"input\",{type:\"file\",name:\"avatar-photo\",id:\"photo\",onChange:function(e){var t=document.createElement(\"img\");t.src=URL.createObjectURL(e.target.files[0]),e.target.value=\"\",t.onload=function(){document.querySelector(\".photo-container\").append(t),f(t.offsetWidth,t.offsetHeight,t)}},hidden:!0,className:\"jsx-369983592\"}),x(\"div\",{style:{position:\"fixed\",left:0,top:0,visibility:\"hidden\",userSelect:\"none\"},className:\"jsx-369983592 photo-container\"}),x(\"canvas\",{id:\"canvas\",hidden:!0,className:\"jsx-369983592\"}),x(\"canvas\",{id:\"canvas2\",hidden:!0,className:\"jsx-369983592\"}),x(l.a,{id:\"369983592\"},[\"button.jsx-369983592{background:none;border:none;outline:none;color:#3897f0;font-weight:700;}\"]))},f=function(e,t,a){var i=document.getElementById(\"canvas\"),n=i.getContext(\"2d\"),s=Math.min(e,t);i.width=s,i.height=s;var l=(Math.max(e,t)-s)/2;e>t?n.drawImage(a,-l,0):n.drawImage(a,0,-l);var o=document.getElementById(\"canvas2\").getContext(\"2d\");canvas2.width=40,canvas2.height=40,o.drawImage(i,0,0,40,40),document.getElementById(\"canvas2\").toBlob((function(e){var t=new FormData;t.append(\"file\",e,\"image.png\"),fetch(\"http://localhost:3001/getphotos//avatar\",{method:\"POST\",body:t,credentials:\"include\"}).then((function(e){return e.json()})).then((function(e){return a}))}),\"image/png\")},m=(a(\"D0kk\"),d.a.createElement);var u=function(e){var t=Object(o.useState)(null),a=t[0],i=t[1];return Object(o.useEffect)((function(){return function(){var t,a,s;n.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,n.a.awrap(fetch(\"http://localhost:3001/getphoto/\".concat(e.data.message.photoId)));case 2:return t=l.sent,l.next=5,n.a.awrap(t.blob());case 5:a=l.sent,s=URL.createObjectURL(a),i(s);case 8:case\"end\":return l.stop()}}),null,null,null,Promise)}(),function(){URL.revokeObjectURL(a)}}),[]),m(\"div\",{className:\"jsx-4019688225 avatar\"},m(\"div\",{className:\"jsx-4019688225 photo\"},a&&m(\"img\",{src:a,alt:\"cat\",className:\"jsx-4019688225\"})),m(\"div\",{className:\"jsx-4019688225 avatarmessage\"},m(\"div\",{className:\"jsx-4019688225 username\"},m(\"h3\",{className:\"jsx-4019688225\"},!!e.name&&e.name)),m(h,{data:e.data})),m(l.a,{id:\"4019688225\"},[\".avatar.jsx-4019688225{width:100%;height:10%;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:2vh;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\",\".photo.jsx-4019688225{width:25%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden;}\",\".photo.jsx-4019688225 img.jsx-4019688225{height:6vh;width:6vh;border-radius:50%;border:solid 1px #d3d3d3;}\",\".avatarmessage.jsx-4019688225{padding-left:2vh;width:75%;height:80%;}\"]))},p=d.a.createElement;var b=function(e){var t=e.tag,a=e.type,i=e.value,n=e.ev;return p(\"div\",{className:\"jsx-3253323679 option\"},p(\"div\",{className:\"jsx-3253323679 left\"},p(\"label\",{htmlFor:a,className:\"jsx-3253323679\"},t)),p(\"div\",{className:\"jsx-3253323679 right\"},p(\"input\",{type:\"text\",onInput:function(e){n(e.target.value)},value:i,name:a,id:a,className:\"jsx-3253323679\"})),p(l.a,{id:\"3253323679\"},[\".option.jsx-3253323679{width:100%;height:6%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:1vh;}\",\".left.jsx-3253323679{width:25%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;font-size:2vh;line-height:4.08vh;}\",\".right.jsx-3253323679{width:75%;height:100%;padding-left:2vh;}\",\".right.jsx-3253323679 input.jsx-3253323679{height:3.68vh;width:100%;border:solid 1px #d3d3d3;border-radius:4px;padding:2px 8px;font-size:2vh;}\"]))},g=d.a.createElement;var v=function(){return g(\"div\",{className:\"jsx-21850480 textcontainer\"},g(\"label\",{htmlFor:\"outermessage\",className:\"jsx-21850480\"},\"\\u4e2a\\u4eba\\u7b80\\u4ecb\"),g(\"div\",{className:\"jsx-21850480 text\"},g(\"textarea\",{name:\"outermessage\",id:\"outermessage\",rows:\"8\",className:\"jsx-21850480\"})),g(l.a,{id:\"21850480\"},[\".textcontainer.jsx-21850480{width:100%;min-height:24%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:2vh 0;}\",\"label.jsx-21850480{width:25%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;font-size:2vh;line-height:4.08vh;}\",\".text.jsx-21850480{width:75%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:2vh;}\",\".text.jsx-21850480 textarea.jsx-21850480{min-width:100%;border-radius:4px;padding:8px;font-size:2vh;}\"]))},w=d.a.createElement;var j=function(e){var t=e.data,a=Object(o.useState)(t.message.name),i=a[0],n=a[1],s=Object(o.useState)(t.account),d=s[0],r=s[1],c=Object(o.useState)(t.email),x=c[0],h=c[1];return w(\"form\",{className:\"jsx-3955329759\"},w(b,{type:\"name\",ev:n,value:i,tag:\"\\u59d3\\u540d\"}),w(b,{type:\"account\",ev:r,value:d,tag:\"\\u8d26\\u53f7\"}),w(v,null),w(b,{type:\"email\",ev:h,value:x,tag:\"\\u90ae\\u7bb1\"}),w(\"div\",{className:\"jsx-3955329759 submit\"},w(\"div\",{className:\"jsx-3955329759 submitcontainer\"},w(\"input\",{type:\"submit\",defaultValue:\"\\u63d0\\u4ea4\",className:\"jsx-3955329759\"}))),w(l.a,{id:\"3955329759\"},[\"form.jsx-3955329759{min-height:58vh;width:100%;}\",\".submit.jsx-3955329759{margin-top:2vh;width:100%;height:3.48vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}\",\".submitcontainer.jsx-3955329759{width:75%;padding-left:2vh;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}\",\".submit.jsx-3955329759 input.jsx-3955329759{width:35%;height:100%;background:#3897f0;border:none;border-radius:4px;color:white;font-size:1.6vh;font-weight:700;}\"]))};d.a.createElement;d.a.createElement;var y=d.a.createElement;var k=function(e){var t=e.userData;return y(\"div\",{className:\"jsx-632099663 show\"},y(\"div\",{className:\"jsx-632099663 content\"},y(u,{data:t}),y(j,{data:t})),y(l.a,{id:\"632099663\"},[\".show.jsx-632099663{width:70%;background:white;border-left:solid 2px #d3d3d3;padding:5vh 6vh;}\",\".content.jsx-632099663{background:white;min-height:68vh;}\"]))},N=a(\"vDqi\"),E=a.n(N),I=a(\"nOHt\"),O=a.n(I),S=d.a.createElement;t.default=function(){var e=Object(o.useState)([]),t=e[0],a=e[1];return Object(o.useEffect)((function(){!function(){var e,t;n.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e=E.a.create({baseURL:\"http://localhost:3001/login\",withCredentials:!0}),i.next=3,n.a.awrap(e.get());case 3:\"string\"==typeof(t=i.sent).data&&O.a.push(\"/\"),\"object\"==typeof t.data&&a((function(){return[t.data]}));case 6:case\"end\":return i.stop()}}),null,null,null,Promise)}()}),[]),S(\"div\",{className:\"jsx-3318549121 edit\"},t.length>0?S(\"div\",{className:\"jsx-3318549121 edit-container\"},S(c,null),S(k,{userData:t[0]})):S(d.a.Fragment,null),S(l.a,{id:\"110819053\"},[\"*{margin:0;padding:0;box-sizing:border-box;}\"]),S(l.a,{id:\"3130475109\"},[\".edit.jsx-3318549121{height:100vh;width:100vw;overflow:auto;background:#fafafa;}\",\".edit-container.jsx-3318549121{min-height:80vh;width:960px;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border:2px solid #d3d3d3;}\"]))}}},[[\"oFpz\",0,1,3,2,4]]]);"}