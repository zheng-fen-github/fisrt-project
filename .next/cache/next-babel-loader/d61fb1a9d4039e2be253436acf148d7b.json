{"ast":null,"code":"import _Array$isArray from \"@babel/runtime-corejs2/core-js/array/is-array\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState, useContext } from 'react';\nimport Post from './postcontent';\nimport Search from './search';\nimport Content from './postlist/postindex';\nimport { Context } from '../../editusermessage/context/ins-context';\nimport UseGetData from '../../public/useDateGet';\nimport { connect } from 'react-redux';\nimport { GET } from './redux/action';\nimport Loading from '../../public/loading.js';\n\nfunction Index(props) {\n  const url = 'http://localhost:3001/getphotos';\n  const [state, fetching, error] = UseGetData(undefined, url);\n  useEffect(() => {\n    if (_Array$isArray(state)) props.action(GET(state));\n  });\n\n  const scrollEv = e => {\n    //滚动按钮显示事件\n    let gotop = document.querySelector('.gotop');\n\n    if (e.target.scrollTop > window.innerHeight / 2) {\n      gotop.hidden = false;\n    } else {\n      gotop.hidden = true;\n    }\n  };\n\n  const scrollTOP = e => {\n    // 滚动到顶部事件\n    e.target.closest('.main').scrollTop = 0;\n    e.target.closest('.gotop').hidden = true;\n  };\n\n  return __jsx(\"div\", {\n    onScroll: scrollEv,\n    className: \"jsx-398932034\" + \" \" + 'main testm'\n  }, __jsx(Context.Provider, {\n    value: props.data\n  }, error ? __jsx(\"div\", {\n    className: \"jsx-398932034\"\n  }, \"something is wrong\") : props.data[0] ? __jsx(React.Fragment, null, __jsx(Post, {\n    account: props.account\n  }), __jsx(Search, null), __jsx(Content, {\n    message: props.message\n  }), __jsx(\"div\", {\n    hidden: true,\n    onClick: scrollTOP,\n    className: \"jsx-398932034\" + \" \" + \"gotop\"\n  }, __jsx(\"i\", {\n    className: \"jsx-398932034\" + \" \" + \"iconfont icon-rising\"\n  }))) : __jsx(Loading, null)), __jsx(_JSXStyle, {\n    id: \"398932034\"\n  }, [\".main.jsx-398932034{height:100%;width:50%;background:#eeeef4;overflow:auto;padding:2vh 4vh 0 4vh;position:relative;}\", \".main.jsx-398932034::-webkit-scrollbar{display:none;}\", \".gotop.jsx-398932034{position:fixed;top:49vh;right:29vw;width:60px;height:60px;-webkit-animation:bu-jsx-398932034 .5s 1;animation:bu-jsx-398932034 .5s 1;}\", \"@-webkit-keyframes bu-jsx-398932034{0%{-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);}100%{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}}\", \"@keyframes bu-jsx-398932034{0%{-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);}100%{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}}\", \".gotop.jsx-398932034>i.jsx-398932034{font-size:2rem;color:#1a79ff;background:white;border-radius:0.5rem;box-shadow:0 0 2px rgba(0,0,0,0.3);}\"]));\n}\n\nconst state = store => ({\n  data: store\n});\n\nconst dispatch = dispatch => ({\n  action: dispatch\n});\n\nexport default connect(state, dispatch)(Index);","map":null,"metadata":{},"sourceType":"module"}