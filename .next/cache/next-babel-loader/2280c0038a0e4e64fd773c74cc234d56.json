{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar _jsxFileName = \"C:\\\\test\\\\component\\\\login\\\\form.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Input from './input.js';\nimport Router from 'next/router';\n\nfunction Form(_ref) {\n  var Ev = _ref.Ev;\n\n  var _useState = useState(false),\n      accountOk = _useState[0],\n      setAccountOk = _useState[1]; // 账号检测状态\n\n\n  var buttonRef; // 按钮Ref定义\n\n  var animaRef; // 动画Ref\n\n  var accountRef = React.createRef();\n  var passwordRef = React.createRef(); //提交事件     \n\n  var submitevent = function submitevent(e) {\n    var formdata, request;\n    return _regeneratorRuntime.async(function submitevent$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            e.preventDefault();\n            formdata = new FormData(e.target);\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(fetch('http://localhost:3001/login', {\n              method: 'POST',\n              body: formdata,\n              credentials: \"include\"\n            }));\n\n          case 4:\n            request = _context.sent;\n\n            if (request.ok) {\n              Router.push('/');\n            } else {\n              Ev('密码错误');\n            }\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }; //账号验证事件\n\n\n  var ACCright = function ACCright(e) {\n    if (!accountOk) {\n      e.preventDefault();\n      animaRef.classList.add('require');\n      var account = accountRef.current.children[1].value;\n      fetch(\"http://localhost:3001/login/\".concat(account), {\n        method: 'GET'\n      }).then(function (res) {\n        try {\n          if (res.ok) {\n            anima();\n            setAccountOk(true);\n          } else {\n            animaRef.classList.remove('require');\n            Ev('账号不存在');\n          }\n        } catch (err) {\n          console.log(err);\n        }\n      });\n\n      var anima = function anima() {\n        accountRef.current.style.opacity = 0;\n        passwordRef.current.style.opacity = 1;\n        passwordRef.current.style.visibility = true;\n        animaRef.classList.remove('require');\n        buttonRef.classList.remove('buttonstatus');\n      };\n    }\n  }; //动画事件 线条渐变效果\n\n\n  var LineColor = function LineColor(select) {\n    if (select < 1) {\n      animaRef.classList.remove('require');\n    } else {\n      animaRef.classList.add('require');\n    }\n  }; //动画事件 线条渐变效果\n\n\n  var buttonColor = function buttonColor(select) {\n    if (select < 1) {\n      buttonRef.classList.remove('buttonstatus');\n    } else {\n      buttonRef.classList.add('buttonstatus');\n    }\n  };\n\n  return __jsx(\"div\", {\n    id: \"accform\",\n    className: \"jsx-3028285870\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, __jsx(Link, {\n    href: '/home',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    ref: function ref(_ref2) {\n      return aRef = _ref2;\n    },\n    className: \"jsx-3028285870\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \"link\")), __jsx(\"form\", {\n    onSubmit: submitevent,\n    className: \"jsx-3028285870\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-3028285870\" + \" \" + \"div\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, __jsx(Input, {\n    event: LineColor,\n    buevent: buttonColor,\n    type: \"account\",\n    ref: accountRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }), __jsx(Input, {\n    event: LineColor,\n    buevent: buttonColor,\n    type: \"password\",\n    ref: passwordRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    ref: function ref(_ref3) {\n      return animaRef = _ref3;\n    },\n    className: \"jsx-3028285870\" + \" \" + 'anima',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }), __jsx(\"button\", {\n    ref: function ref(_ref4) {\n      return buttonRef = _ref4;\n    },\n    onClick: ACCright,\n    className: \"jsx-3028285870\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, \"continue\")), __jsx(_JSXStyle, {\n    id: \"3028285870\",\n    __self: this\n  }, \"#accform.jsx-3028285870{width:30%;margin:0 auto;margin-top:10vh;position:relative;-webkit-transition:display 1s;transition:display 1s;}#accform.jsx-3028285870 .div.jsx-3028285870{min-height:5vh;}#accform.jsx-3028285870 form.jsx-3028285870{position:relative;}#accform.jsx-3028285870 button.jsx-3028285870{margin-top:3vh;width:100%;height:6vh;border-radius:6px;font-size:3vh;color:#5c52ff;background:#eee;display:block;opacity:0.2;border:none;-webkit-transition:all 0.4s;transition:all 0.4s;}#accform.jsx-3028285870 .buttonstatus.jsx-3028285870{background:#5c52ff;color:white;opacity:1;-webkit-transition:all 0.4s;transition:all 0.4s;}#accform.jsx-3028285870 .require.jsx-3028285870{-webkit-animation:account-jsx-3028285870 1.5s infinite;animation:account-jsx-3028285870 1.5s infinite;}#accform.jsx-3028285870 div.anima.jsx-3028285870{width:100%;height:2px;background:white;-webkit-transition:-webkit-transform 1s;-webkit-transition:transform 1s;transition:transform 1s;-webkit-transform:scale(1,1);-ms-transform:scale(1,1);transform:scale(1,1);-webkit-transform-origin:right 50%;-ms-transform-origin:right 50%;transform-origin:right 50%;}#accform.jsx-3028285870 div.go.jsx-3028285870{height:2px;-webkit-transform:scale(0,1);-ms-transform:scale(0,1);transform:scale(0,1);-webkit-transform-origin:left 50%;-ms-transform-origin:left 50%;transform-origin:left 50%;-webkit-transition:-webkit-transform 0.5s;-webkit-transition:transform 0.5s;transition:transform 0.5s;}@-webkit-keyframes account-jsx-3028285870{0%{background:#5c52ff;}50%{background:#001c50;}100%{background:#5c52ff;}}@keyframes account-jsx-3028285870{0%{background:#5c52ff;}50%{background:#001c50;}100%{background:#5c52ff;}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFx0ZXN0XFxjb21wb25lbnRcXGxvZ2luXFxmb3JtLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXlHeUIsQUFHK0IsQUFPSyxBQUdHLEFBSUgsQUFhSSxBQU1hLEFBR3JCLEFBUUQsQUFRYSxBQUdELEFBR0EsVUF6RFIsQ0FvQ0gsQUFRUyxJQXJDdkIsQUFPYyxHQUhkLENBZ0JlLEFBeUJYLEFBR0EsQUFHQSxHQXJCZ0IsRUFwQ0QsRUFjTCxLQWFELE1BWlEsRUFzQk0sQ0FwQ04sQ0EyQkcsY0FaUCxHQWRTLFdBZVQsY0FDRSxHQTBCUyxHQWY1QixVQVZpQixHQWFqQixRQTdCQSxHQWlCZSxZQUNBLFVBaUJTLEVBaEJBLHVDQXVCSSxTQXRCNUIseUJBZ0I4QixvRUFPOUIseUJBTkEiLCJmaWxlIjoiQzpcXHRlc3RcXGNvbXBvbmVudFxcbG9naW5cXGZvcm0uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3Qse3VzZVN0YXRlfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IElucHV0IGZyb20gJy4vaW5wdXQuanMnXHJcbmltcG9ydCBSb3V0ZXIgZnJvbSAnbmV4dC9yb3V0ZXInXHJcblxyXG5mdW5jdGlvbiBGb3JtKHtFdn0pIHtcclxuICAgIGNvbnN0IFthY2NvdW50T2ssIHNldEFjY291bnRPa10gPSB1c2VTdGF0ZShmYWxzZSk7IFxyXG4gICAgLy8g6LSm5Y+35qOA5rWL54q25oCBXHJcbiAgICBsZXQgYnV0dG9uUmVmOyAgLy8g5oyJ6ZKuUmVm5a6a5LmJXHJcbiAgICBsZXQgYW5pbWFSZWY7ICAvLyDliqjnlLtSZWZcclxuICAgIGxldCBhY2NvdW50UmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7XHJcbiAgICBsZXQgcGFzc3dvcmRSZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcclxuICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+aPkOS6pOS6i+S7tiAgICAgXHJcbiAgICBjb25zdCBzdWJtaXRldmVudCA9IGFzeW5jIChlKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgIGxldCBmb3JtZGF0YSA9IG5ldyBGb3JtRGF0YShlLnRhcmdldCk7XHJcbiAgICAgICAgIGxldCByZXF1ZXN0ID0gYXdhaXQgIGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjMwMDEvbG9naW4nLHtcclxuICAgICAgICAgICAgICAgbWV0aG9kOidQT1NUJyxcclxuICAgICAgICAgICAgICAgYm9keTpmb3JtZGF0YSxcclxuICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6IFwiaW5jbHVkZVwiIFxyXG4gICAgICAgICAgIH0pXHJcbiAgICAgICAgaWYocmVxdWVzdC5vaykgeyAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBSb3V0ZXIucHVzaCgnLycpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBFdign5a+G56CB6ZSZ6K+vJyk7XHJcbiAgICAgICAgfSAgICAgICAgICBcclxuICAgICAgICAgICBcclxuICAgIH1cclxuICAgIC8v6LSm5Y+36aqM6K+B5LqL5Lu2XHJcbiAgICBjb25zdCBBQ0NyaWdodCA9IChlKSA9PiB7ICBcclxuICAgICAgICAgICAgICAgICBpZighYWNjb3VudE9rKXtcclxuICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFuaW1hUmVmLmNsYXNzTGlzdC5hZGQoJ3JlcXVpcmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFjY291bnQgPSBhY2NvdW50UmVmLmN1cnJlbnQuY2hpbGRyZW5bMV0udmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoKGBodHRwOi8vbG9jYWxob3N0OjMwMDEvbG9naW4vJHthY2NvdW50fWAse1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOidHRVQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4ocmVzID0+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihyZXMub2speyAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hKCk7ICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEFjY291bnRPayh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZXsgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYVJlZi5jbGFzc0xpc3QucmVtb3ZlKCdyZXF1aXJlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2KCfotKblj7fkuI3lrZjlnKgnKSAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9Y2F0Y2goZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYW5pbWEgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50UmVmLmN1cnJlbnQuc3R5bGUub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZFJlZi5jdXJyZW50LnN0eWxlLm9wYWNpdHkgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmRSZWYuY3VycmVudC5zdHlsZS52aXNpYmlsaXR5ID0gdHJ1ZTsgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWFSZWYuY2xhc3NMaXN0LnJlbW92ZSgncmVxdWlyZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uUmVmLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbnN0YXR1cycpXHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIC8v5Yqo55S75LqL5Lu2IOe6v+adoea4kOWPmOaViOaenFxyXG4gICAgY29uc3QgTGluZUNvbG9yID0gKHNlbGVjdCkgPT4ge1xyXG4gICAgICAgICAgaWYoc2VsZWN0PDEpe1xyXG4gICAgICAgICAgICBhbmltYVJlZi5jbGFzc0xpc3QucmVtb3ZlKCdyZXF1aXJlJylcclxuICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBhbmltYVJlZi5jbGFzc0xpc3QuYWRkKCdyZXF1aXJlJylcclxuICAgICAgICAgIH1cclxuICAgIH1cclxuICAgIC8v5Yqo55S75LqL5Lu2IOe6v+adoea4kOWPmOaViOaenFxyXG4gICAgY29uc3QgYnV0dG9uQ29sb3IgPSAoc2VsZWN0KSA9PiB7XHJcbiAgICAgICAgaWYoc2VsZWN0PDEpe1xyXG4gICAgICAgICAgICBidXR0b25SZWYuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uc3RhdHVzJylcclxuICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBidXR0b25SZWYuY2xhc3NMaXN0LmFkZCgnYnV0dG9uc3RhdHVzJylcclxuICAgICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBpZD0nYWNjZm9ybSc+XHJcbiAgICAgICAgICAgIDxMaW5rIGhyZWY9eycvaG9tZSd9PlxyXG4gICAgICAgICAgICAgICAgICAgPGEgcmVmPSB7cmVmID0+ICBhUmVmID0gcmVmfT5saW5rPC9hPlxyXG4gICAgICAgICAgICA8L0xpbms+XHJcbiAgICAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17c3VibWl0ZXZlbnR9PlxyXG4gICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGl2XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPElucHV0IFxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50PXtMaW5lQ29sb3J9XHJcbiAgICAgICAgICAgICAgICAgICAgYnVldmVudD17YnV0dG9uQ29sb3J9XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT0nYWNjb3VudCdcclxuICAgICAgICAgICAgICAgICAgICByZWYgPSB7YWNjb3VudFJlZn1cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxJbnB1dCBcclxuICAgICAgICAgICAgICAgICAgICBldmVudD17TGluZUNvbG9yfVxyXG4gICAgICAgICAgICAgICAgICAgIGJ1ZXZlbnQ9e2J1dHRvbkNvbG9yfVxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9J3Bhc3N3b3JkJ1xyXG4gICAgICAgICAgICAgICAgICAgIHJlZiA9IHtwYXNzd29yZFJlZn1cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdhbmltYScgcmVmPXtyZWYgPT4gYW5pbWFSZWYgPSByZWZ9PlxyXG4gICAgICAgICAgICAgICAgICAgICB7Lyog5Yqo55S757q/5p2hICovfVxyXG4gICAgICAgICAgICAgICAgIDwvZGl2PiAgIFxyXG4gICAgICAgICAgICAgICAgIDxidXR0b24gcmVmID0ge3JlZiA9PiBidXR0b25SZWYgPSByZWZ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e0FDQ3JpZ2h0fT5cclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZVxyXG4gICAgICAgICAgICAgICAgIDwvYnV0dG9uPiAgICAgICAgICAgXHJcbiAgICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICAgICA8c3R5bGUganN4PntgXHJcbiAgICAgICAgICAgICAgICAgI2FjY2Zvcm0ge1xyXG4gICAgICAgICAgICAgICAgICAgICB3aWR0aDozMCU7XHJcbiAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjowIGF1dG87XHJcbiAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6MTB2aDtcclxuICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246cmVsYXRpdmU7XHJcbiAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ZGlzcGxheSAxcyA7XHJcbiAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICNhY2Nmb3JtIC5kaXYge1xyXG4gICAgICAgICAgICAgICAgICAgICBtaW4taGVpZ2h0OjV2aDtcclxuICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgI2FjY2Zvcm0gZm9ybSB7XHJcbiAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOnJlbGF0aXZlO1xyXG4gICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICB9ICBcclxuICAgICAgICAgICAgICAgICAjYWNjZm9ybSBidXR0b24ge1xyXG4gICAgICAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOjN2aDtcclxuICAgICAgICAgICAgICAgICAgICAgd2lkdGg6MTAwJTtcclxuICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OjZ2aDtcclxuICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czo2cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTozdmg7XHJcbiAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiM1YzUyZmY7XHJcbiAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6I2VlZTtcclxuICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTpibG9jaztcclxuICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTowLjI7XHJcbiAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjpub25lO1xyXG4gICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC40cztcclxuICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgI2FjY2Zvcm0gLmJ1dHRvbnN0YXR1cyB7XHJcbiAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IzVjNTJmZjtcclxuICAgICAgICAgICAgICAgICAgICAgY29sb3I6d2hpdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6MTtcclxuICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuNHM7XHJcbiAgICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgICAjYWNjZm9ybSAucmVxdWlyZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbjphY2NvdW50IDEuNXMgaW5maW5pdGU7XHJcbiAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICNhY2Nmb3JtIGRpdi5hbmltYSB7XHJcbiAgICAgICAgICAgICAgICAgICAgIHdpZHRoOjEwMCU7XHJcbiAgICAgICAgICAgICAgICAgICAgIGhlaWdodDoycHg7XHJcbiAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6d2hpdGU7ICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjp0cmFuc2Zvcm0gMXM7XHJcbiAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTpzY2FsZSgxLDEpOyBcclxuICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjpyaWdodCA1MCU7XHJcbiAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICNhY2Nmb3JtIGRpdi5nbyB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OjJweDtcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06c2NhbGUoMCwxKTtcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOmxlZnQgNTAlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246dHJhbnNmb3JtIDAuNXM7XHJcbiAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgIEBrZXlmcmFtZXMgYWNjb3VudCB7XHJcbiAgICAgICAgICAgICAgICAgICAgIDAlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IzVjNTJmZjtcclxuICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICA1MCUge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiMwMDFjNTA7XHJcbiAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgMTAwJSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IzVjNTJmZjtcclxuICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICBgfVxyXG4gICAgICAgICAgICAgPC9zdHlsZT5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRm9ybVxyXG4iXX0= */\\n/*@ sourceURL=C:\\\\\\\\test\\\\\\\\component\\\\\\\\login\\\\\\\\form.js */\"));\n}\n\nexport default Form;","map":{"version":3,"sources":["C:/test/component/login/form.js"],"names":["React","useState","Input","Router","Form","Ev","accountOk","setAccountOk","buttonRef","animaRef","accountRef","createRef","passwordRef","submitevent","e","preventDefault","formdata","FormData","target","fetch","method","body","credentials","request","ok","push","ACCright","classList","add","account","current","children","value","then","res","anima","remove","err","console","log","style","opacity","visibility","LineColor","select","buttonColor","ref","aRef"],"mappings":"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","sourcesContent":["import React,{useState} from 'react'\r\nimport Input from './input.js'\r\nimport Router from 'next/router'\r\n\r\nfunction Form({Ev}) {\r\n    const [accountOk, setAccountOk] = useState(false); \r\n    // 账号检测状态\r\n    let buttonRef;  // 按钮Ref定义\r\n    let animaRef;  // 动画Ref\r\n    let accountRef = React.createRef();\r\n    let passwordRef = React.createRef();\r\n  \r\n                                               //提交事件     \r\n    const submitevent = async (e) => {                        \r\n         e.preventDefault();                \r\n         let formdata = new FormData(e.target);\r\n         let request = await  fetch('http://localhost:3001/login',{\r\n               method:'POST',\r\n               body:formdata,\r\n               credentials: \"include\" \r\n           })\r\n        if(request.ok) {            \r\n            Router.push('/');\r\n        }else{\r\n            Ev('密码错误');\r\n        }          \r\n           \r\n    }\r\n    //账号验证事件\r\n    const ACCright = (e) => {  \r\n                 if(!accountOk){\r\n                      e.preventDefault();\r\n                      animaRef.classList.add('require');\r\n                        let account = accountRef.current.children[1].value;\r\n                        fetch(`http://localhost:3001/login/${account}`,{\r\n                            method:'GET'\r\n                        }).then(res =>{\r\n                            try {\r\n                                if(res.ok){                    \r\n                                    anima();                        \r\n                                    setAccountOk(true);\r\n                                }\r\n                                else{     \r\n                                    animaRef.classList.remove('require');\r\n                                    Ev('账号不存在')              \r\n                                }\r\n                        }catch(err) {\r\n                            console.log(err)\r\n                        }\r\n                        })\r\n                        const anima = () => {\r\n                            accountRef.current.style.opacity = 0;\r\n                            passwordRef.current.style.opacity = 1;\r\n                            passwordRef.current.style.visibility = true;                    \r\n                            animaRef.classList.remove('require');\r\n                            buttonRef.classList.remove('buttonstatus')\r\n                      }\r\n                }                              \r\n                \r\n        \r\n    }\r\n    //动画事件 线条渐变效果\r\n    const LineColor = (select) => {\r\n          if(select<1){\r\n            animaRef.classList.remove('require')\r\n          }else{\r\n            animaRef.classList.add('require')\r\n          }\r\n    }\r\n    //动画事件 线条渐变效果\r\n    const buttonColor = (select) => {\r\n        if(select<1){\r\n            buttonRef.classList.remove('buttonstatus')\r\n          }else{\r\n            buttonRef.classList.add('buttonstatus')\r\n          }\r\n    }\r\n    return (\r\n        <div id='accform'>\r\n            <Link href={'/home'}>\r\n                   <a ref= {ref =>  aRef = ref}>link</a>\r\n            </Link>\r\n             <form onSubmit={submitevent}>\r\n                 <div className=\"div\">\r\n                    <Input \r\n                    event={LineColor}\r\n                    buevent={buttonColor}\r\n                    type='account'\r\n                    ref = {accountRef}\r\n                    />\r\n                    <Input \r\n                    event={LineColor}\r\n                    buevent={buttonColor}\r\n                    type='password'\r\n                    ref = {passwordRef}\r\n                    />\r\n                 </div>\r\n                 <div className='anima' ref={ref => animaRef = ref}>\r\n                     {/* 动画线条 */}\r\n                 </div>   \r\n                 <button ref = {ref => buttonRef = ref}\r\n                        onClick={ACCright}>\r\n                    continue\r\n                 </button>           \r\n             </form>\r\n             <style jsx>{`\r\n                 #accform {\r\n                     width:30%;\r\n                     margin:0 auto;\r\n                     margin-top:10vh;\r\n                     position:relative;\r\n                     transition:display 1s ;\r\n                 }\r\n                 #accform .div {\r\n                     min-height:5vh;\r\n                 }\r\n                 #accform form {\r\n                     position:relative;\r\n                     \r\n                 }  \r\n                 #accform button {\r\n                     margin-top:3vh;\r\n                     width:100%;\r\n                     height:6vh;\r\n                     border-radius:6px;\r\n                     font-size:3vh;\r\n                     color:#5c52ff;\r\n                     background:#eee;\r\n                     display:block;\r\n                     opacity:0.2;\r\n                     border:none;\r\n                     transition: all 0.4s;\r\n                 }\r\n                 #accform .buttonstatus {\r\n                     background:#5c52ff;\r\n                     color:white;\r\n                     opacity:1;\r\n                     transition: all 0.4s;\r\n                 } \r\n                 #accform .require {\r\n                     animation:account 1.5s infinite;\r\n                 }\r\n                 #accform div.anima {\r\n                     width:100%;\r\n                     height:2px;\r\n                     background:white;                    \r\n                     transition:transform 1s;\r\n                     transform:scale(1,1); \r\n                     transform-origin:right 50%;\r\n                 }\r\n                 #accform div.go {\r\n                    height:2px;\r\n                    transform:scale(0,1);\r\n                    transform-origin:left 50%;\r\n                    transition:transform 0.5s;\r\n                 }                              \r\n                 \r\n                 @keyframes account {\r\n                     0% {\r\n                         background:#5c52ff;\r\n                     }\r\n                     50% {\r\n                        background:#001c50;\r\n                     }\r\n                     100% {\r\n                        background:#5c52ff;\r\n                     }\r\n                 }\r\n                 `}\r\n             </style>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Form\r\n"]},"metadata":{},"sourceType":"module"}