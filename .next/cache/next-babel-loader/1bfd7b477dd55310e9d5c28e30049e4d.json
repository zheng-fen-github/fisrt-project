{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport Acthor from './acthor';\nimport Photo from './photoList';\nimport Title from './title';\nimport Form from './form';\nimport Comment from './comment';\nimport Loading from '../public/loading';\nimport Url from '../../url';\n\nfunction Root({\n  id\n}) {\n  const {\n    0: data,\n    1: setData\n  } = useState(null);\n  const {\n    0: fetching,\n    1: setFetching\n  } = useState(true);\n  const {\n    0: error,\n    1: setError\n  } = useState(false);\n  console.log(id);\n  useEffect(() => {\n    //获取帖子信息\n    (async () => {\n      try {\n        const url = Url + 'post/post/' + id;\n        console.log(url);\n        let req = await fetch(url);\n\n        if (req.ok) {\n          let result = await req.json();\n          setData(result);\n          setFetching(false);\n        } else {\n          if (req.status == 404) {\n            throw new Error('未找到这个帖子的信息');\n          }\n        }\n      } catch (err) {\n        if (err) {\n          console.log(err);\n          setError(true);\n        }\n      }\n    })();\n  }, []);\n  return __jsx(React.Fragment, null, data ? __jsx(React.Fragment, null, __jsx(Acthor, {\n    id: data.acthorPhotoId,\n    time: data.postTime,\n    acthor: data.userName\n  }), __jsx(Photo, {\n    message: data.message\n  }), __jsx(Title, {\n    title: data.title,\n    descript: data.description\n  }), __jsx(Comment, {\n    data: data.comment\n  }), __jsx(Form, null)) : __jsx(Loading, {\n    color: \"#1f2738\"\n  }));\n}\n\nexport default Root;","map":null,"metadata":{},"sourceType":"module"}