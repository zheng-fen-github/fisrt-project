{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport Buddy from './buddy';\n\nfunction Index() {\n  const {\n    0: state,\n    1: setState\n  } = useState(false);\n  const {\n    0: message,\n    1: setMessage\n  } = useState([]);\n\n  const change = data => {\n    setMessage(pre => {\n      let s = pre.concat([data]);\n      return s;\n    });\n  };\n\n  useEffect(() => {\n    // 接受信息事件        \n    const Ev = () => {\n      let conc = io.connect('http://49.234.96.80:3001');\n      conc.on('chat', change);\n    };\n\n    if (io) {\n      Ev();\n    } else {\n      setTimeout(Ev, 1500);\n    }\n  }, []);\n\n  const clickEv = e => {\n    if (message.length < 1) return;\n    setState(true);\n    e.currentTarget.parentElement.classList.add('open');\n  };\n\n  return __jsx(\"div\", {\n    className: \"jsx-1703469127\" + \" \" + 'chat'\n  }, __jsx(\"div\", {\n    className: \"jsx-1703469127\" + \" \" + \"container\"\n  }, __jsx(\"div\", {\n    onClick: clickEv,\n    className: \"jsx-1703469127\" + \" \" + \"chat-message\"\n  }, message.length > 0 ? __jsx(\"div\", {\n    className: \"jsx-1703469127\" + \" \" + \"math\"\n  }, message.length) : null, __jsx(\"i\", {\n    className: \"jsx-1703469127\" + \" \" + 'iconfont icon-xiaoxizhongxin'\n  })), state && __jsx(Buddy, {\n    message: message\n  })), __jsx(_JSXStyle, {\n    id: \"1703469127\"\n  }, [\".chat.jsx-1703469127{height:100%;width:20%;background:white;}\", \".container.jsx-1703469127{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}\", \".open.jsx-1703469127{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}\", \".open.jsx-1703469127>div.jsx-1703469127:first-child{margin-top:4vh;}\", \".chat-message.jsx-1703469127{position:relative;}\", \".math.jsx-1703469127{position:absolute;right:1rem;top:-0.2rem;background:red;width:22px;height:22px;color:white;border-radius:6px;text-align:center;line-height:22px;}\", \"i.jsx-1703469127{font-size:4rem;color:#1f2738;opacity:0.8;margin:0 1rem;-webkit-transition:.4s;transition:.4s;}\", \"i.jsx-1703469127:hover{opacity:1;font-size:4.4rem;}\", \"@media (max-width:1100px){.chat.jsx-1703469127{height:20%;width:10vw;position:fixed;right:0;top:0;border-radius:24px;}.chat.jsx-1703469127>.container.jsx-1703469127{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}\", \"@media (max-width:1000px){.chat.jsx-1703469127{display:none;height:14%;}i.jsx-1703469127{font-size:2rem;}}\"]));\n}\n\nexport default Index;","map":null,"metadata":{},"sourceType":"module"}