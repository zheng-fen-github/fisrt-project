{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport Router from 'next/router';\nimport Img from '../public/photo';\nimport Url from '../../url';\n\nfunction Post(_ref) {\n  var id = _ref.id;\n\n  var _useState = useState(null),\n      data = _useState[0],\n      setData = _useState[1];\n\n  var _useState2 = useState(false),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  useEffect(function () {\n    // 获取用户帖子信息\n    (function _callee() {\n      var req, result;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(fetch(\"\".concat(Url, \"post/post/\").concat(id)));\n\n            case 2:\n              req = _context.sent;\n\n              if (!req.ok) {\n                _context.next = 11;\n                break;\n              }\n\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(req.json());\n\n            case 6:\n              result = _context.sent;\n              console.log(result);\n              setData(result);\n              _context.next = 12;\n              break;\n\n            case 11:\n              if (req.status === 404) {\n                setError(true);\n              }\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n\n  var REv = function REv() {\n    // 打开帖子路由\n    Router.push({\n      pathname: '/post',\n      query: {\n        id: id\n      }\n    });\n  };\n\n  if (data) {\n    return __jsx(\"div\", {\n      className: \"jsx-1830021869\" + \" \" + \"post\"\n    }, __jsx(\"div\", {\n      className: \"jsx-1830021869\" + \" \" + \"photo\"\n    }, __jsx(Img, {\n      id: data.message[0].filename\n    })), __jsx(\"div\", {\n      onClick: REv,\n      className: \"jsx-1830021869\" + \" \" + \"post-message\"\n    }, __jsx(\"div\", {\n      className: \"jsx-1830021869\" + \" \" + \"message-one\"\n    }, __jsx(\"svg\", {\n      t: \"1578982937383\",\n      viewBox: \"0 0 1024 1024\",\n      version: \"1.1\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      \"p-id\": \"2367\",\n      width: \"30\",\n      height: \"30\",\n      className: \"jsx-1830021869\" + \" \" + \"icon\"\n    }, __jsx(\"path\", {\n      d: \"M512 919.194002l-64.352657-58.361199C219.085764 653.353378 68.191078 516.438079 68.191078 348.900342c0-136.915299 107.180068-244.094344 244.094344-244.094344 77.222779 0 151.3388 35.948747 199.713554 92.53451 48.374754-56.585763 122.490775-92.53451 199.713554-92.53451 136.915299 0 244.094344 107.180068 244.094344 244.094344 0 167.537737-150.894685 304.453037-379.456265 511.933485L512 919.194002z\",\n      \"p-id\": \"2368\",\n      fill: \"#ffffff\",\n      className: \"jsx-1830021869\"\n    })), __jsx(\"p\", {\n      className: \"jsx-1830021869\"\n    }, data.userLike.length)), __jsx(\"div\", {\n      className: \"jsx-1830021869\" + \" \" + \"message-two\"\n    }, __jsx(\"svg\", {\n      t: \"1578984025617\",\n      viewBox: \"0 0 1024 1024\",\n      version: \"1.1\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      \"p-id\": \"4316\",\n      width: \"26\",\n      height: \"26\",\n      className: \"jsx-1830021869\" + \" \" + \"icon\"\n    }, __jsx(\"path\", {\n      d: \"M510.4 145.6c-202.6 0-366.8 159.6-366.8 356.5 0 102.1 44.3 194.2 115 259.2-15.6 23.3-34.4 44.1-56.2 61.4 1.1-0.2 1.7-0.2 1.3 0-7.8 5.3-13.1 14.4-13.1 24.7 0 13.2 8.6 24 20.3 27.9 14.6 2.2 29.4 3.7 44.7 3.7 18.5 0 36.5-1.9 54.2-5h0.1c10.8-2 21.4-4.3 31.7-7.2 26.7-8.2 53.5-20.2 53.5-20.2l8.3-3.8c17.3 6.9 41.1 10.7 60.8 12.8v-0.1c5.5 0.7 10.9 1.1 16.4 1.6 12.4 0.9 20.8 1.1 20.8 1.1v0.1c2.9 0.1 5.9 0.3 8.9 0.3 202.6 0 366.8-159.6 366.8-356.5 0.1-197-164.2-356.5-366.7-356.5z\",\n      \"p-id\": \"4317\",\n      fill: \"#ffffff\",\n      className: \"jsx-1830021869\"\n    })), __jsx(\"p\", {\n      className: \"jsx-1830021869\"\n    }, data.userSave.length))), __jsx(_JSXStyle, {\n      id: \"1830021869\"\n    }, [\".post.jsx-1830021869{width:300px;height:300px;overflow:hidden;position:relative;margin-bottom:48px;}\", \".post.jsx-1830021869:hover>.post-message.jsx-1830021869{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}\", \".post-message.jsx-1830021869{display:none;position:absolute;width:100%;height:100%;left:0;top:0;background:rgb(0,0,0,0.5);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:white;}\", \".post-message.jsx-1830021869 div.jsx-1830021869{height:40px;width:48px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:0 8px;line-height:40px;}\", \".post-message.jsx-1830021869 svg.jsx-1830021869{margin-right:8px;}\", \".post.jsx-1830021869 .photo.jsx-1830021869{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}\", \"@media (max-width:980px){.post.jsx-1830021869{width:43vw;height:43vw;overflow:hidden;position:relative;margin:0 3vw 1.5vw 1.5vw;}.post.jsx-1830021869 .photo.jsx-1830021869{width:100%;height:100%;}.post.jsx-1830021869 .photo.jsx-1830021869 img.jsx-1830021869{height:100%;}}\"]));\n  } else {\n    if (error) {\n      return __jsx(\"h1\", null, \" \\u51FA\\u9519\\u4E86 \\u5237\\u65B0\\u8BD5\\u8BD5 \");\n    } else {\n      return false;\n    }\n  }\n}\n\nexport default Post;","map":null,"metadata":{},"sourceType":"module"}