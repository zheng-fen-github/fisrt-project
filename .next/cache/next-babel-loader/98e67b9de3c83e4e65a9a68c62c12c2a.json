{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Input from './oldpass';\nimport Url from '../../../../url';\n\nfunction Password({\n  acc\n}) {\n  const {\n    0: error,\n    1: setError\n  } = useState('');\n\n  const submitEv = async e => {\n    e.preventDefault();\n    let body = new FormData(e.target);\n    let pass1 = body.get('newpassword_one');\n    let pass2 = body.get('newpassword_two');\n\n    if (pass1 !== pass2) {\n      hidden('两次密码输入不相同');\n      return;\n    }\n\n    body.append('account', acc);\n    let req = await fetch(Url + 'login/changePass', {\n      method: 'POST',\n      body\n    });\n    let data = await req.json();\n    hidden(data);\n\n    if (!req.ok) {\n      console.log(req.status);\n    }\n  };\n\n  const hidden = value => {\n    //提示事件！！！\n    setError(value);\n    setTimeout(() => setError(''), 1500);\n  };\n\n  return __jsx(\"form\", {\n    onSubmit: submitEv,\n    className: \"jsx-3745395215\" + \" \" + \"password\"\n  }, __jsx(Input, {\n    type: \"oldpassword\",\n    tag: \"\\u65E7\\u5BC6\\u7801\"\n  }), __jsx(Input, {\n    type: \"newpassword_one\",\n    tag: \"\\u65B0\\u5BC6\\u7801\"\n  }), __jsx(Input, {\n    type: \"newpassword_two\",\n    tag: \"\\u91CD\\u590D\\u65B0\\u5BC6\\u7801\"\n  }), __jsx(\"div\", {\n    className: \"jsx-3745395215\" + \" \" + \"submit\"\n  }, __jsx(\"div\", {\n    className: \"jsx-3745395215\" + \" \" + \"submitcontainer\"\n  }, __jsx(\"input\", {\n    type: \"submit\",\n    value: \"\\u63D0\\u4EA4\",\n    className: \"jsx-3745395215\"\n  }))), __jsx(\"div\", {\n    className: \"jsx-3745395215\" + \" \" + \"text\"\n  }, __jsx(\"h2\", {\n    className: \"jsx-3745395215\"\n  }, error)), __jsx(_JSXStyle, {\n    id: \"3745395215\"\n  }, [\".password.jsx-3745395215{height:58vh;width:100%;}\", \".submit.jsx-3745395215{margin-top:2vh;width:100%;height:3.48vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}\", \".submitcontainer.jsx-3745395215{width:75%;padding-left:2vh;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}\", \".submit.jsx-3745395215 input.jsx-3745395215{width:35%;height:100%;background:rgb(31,39,56);border:none;border-radius:4px;color:white;font-size:1.6vh;font-weight:700;-webkit-transition:.4s;transition:.4s;}\", \".submit.jsx-3745395215 input.jsx-3745395215:hover{-webkit-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2);}\", \".submit.jsx-3745395215 input.jsx-3745395215:active{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}\", \".text.jsx-3745395215{height:200px;line-height:200px;text-align:center;margin-top:2vh;}\"]));\n}\n\nexport default Password;","map":null,"metadata":{},"sourceType":"module"}